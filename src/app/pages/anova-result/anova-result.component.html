<header class="navbar">
  <button class="logo-btn" [routerLink]="['/']">
    <img src="assets/logo-gunadarma.png" alt="Logo" class="logo-img" />
    <b>Gunadarma Data Analysis Application</b>
  </button>
</header>

<main class="anova-wrapper">
  <div class="form-card table-card">
    <h2 class="page-title">Tabel data uji ANOVA</h2>
    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>Grup</th>
          <th>Nilai</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of data; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ row.grup }}</td>
          <td>{{ row.nilai }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="form-card">
    <h3>Detail Proyek</h3>

    <hr><br>
    <p><strong>Hipotesis Ho :</strong> {{ hoText }}</p>
    <p><strong>Hipotesis Ha :</strong> {{ haText }}</p>

    <br><hr><br>

    <h4>Diketahui</h4>
    <table class="data-table">
      <tr>
        <th>n (jumlah data)</th>
        <th>k (jumlah grup)</th>
        <th>Grand Mean</th>
      </tr>
      <tr>
        <td>{{ dfTotal + 1 }}</td>
        <td>{{ dfAntar + 1 }}</td>
        <td>{{ grandMean.toFixed(2) }}</td>
      </tr>
    </table>

    <br><hr><br>

    <h3>Sum of Squares (SS)</h3>

    <br>
    <h4>Diketahui</h4>
    <table class="data-table">
      <tr>
        <th>SS Total</th>
        <th>SS Antar</th>
        <th>SS Dalam</th>
      </tr>
      <tr>
        <td>{{ ssTotal }}</td>
        <td>{{ ssAntar }}</td>
        <td>{{ ssDalam }}</td>
      </tr>
    </table>

    <br>
    <h4>Rumus</h4>
    <p [innerHTML]="rumusSS"></p>

    <br><hr><br>

    <h3>Derajat Bebas (df)</h3>

    <br>
    <h4>Diketahui</h4>
    <table class="data-table">
      <tr>
        <th>df Total</th>
        <th>df Antar</th>
        <th>df Dalam</th>
      </tr>
      <tr>
        <td>{{ dfTotal }}</td>
        <td>{{ dfAntar }}</td>
        <td>{{ dfDalam }}</td>
      </tr>
    </table>

    <br>
    <h4>Rumus</h4>
    <p [innerHTML]="rumusDF"></p>

    <br><hr><br>

    <h3>Mean Square (MS)</h3>

    <br>
    <h4>Diketahui</h4>
    <table class="data-table">
      <tr>
        <th>MS Antar</th>
        <th>MS Dalam</th>
      </tr>
      <tr>
        <td>{{ msAntar }}</td>
        <td>{{ msDalam }}</td>
      </tr>
    </table>

    <br>
    <h4>Rumus</h4>
    <p [innerHTML]="rumusMS"></p>

    <br><hr><br>

    <h3>F-Ratio</h3>

    <br>
    <h4>Diketahui</h4>
    <table class="data-table">
      <tr>
        <th>F Hitung</th>
        <th>F Tabel</th>
      </tr>
      <tr>
        <td>{{ fHitung }}</td>
        <td>{{ fTabel }}</td>
      </tr>
    </table>

    <br>
    <h4>Rumus</h4>
    <p [innerHTML]="rumusF"></p>

    <br><hr><br>

    <h4>Nilai p</h4>
    <p><strong>p-value:</strong> {{ pValue }}</p>

    <br><hr><br>

    <h3>Kesimpulan:</h3>
    <p>
      Karena F hitung ({{ fHitung }}) {{ fHitung > fTabel ? '>' : '<=' }} F tabel ({{ fTabel }}),
      maka dapat disimpulkan bahwa {{ fHitung > fTabel ? 'terdapat perbedaan yang signifikan antar kelompok.' : 'tidak terdapat perbedaan yang signifikan antar kelompok.' }}
    </p>

    <br>
    <app-box-plot [data]="data" [yAxisLabel]="hasil?.namaVarY || 'Nilai'"></app-box-plot>
  </div>
</main>